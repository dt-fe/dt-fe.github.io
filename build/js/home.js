function ParticleLine(){function a(a,b,c){switch(this.color="#E6E6E6",this.radius=Math.round(3*Math.random()+2),this.x=c.x,this.y=c.y,null==b?(this.speedx=.3,this.speedy=.3):(this.speedx=0,this.speedy=0),Math.round(Math.random()*k.length)){case 1:this.speedx*=1,this.speedy*=1;break;case 2:this.speedx*=-1,this.speedy*=1;break;case 3:this.speedx*=1,this.speedy*=-1;break;case 4:this.speedx*=-1,this.speedy*=-1}this.move=function(){f.beginPath(),f.globalCompositeOperation="source-over",f.fillStyle=this.color,f.globalAlpha=1,null!=b?f.drawImage(a,5+68*b,5,58,58,this.x,this.y,58,58):(f.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),f.fill()),f.closePath(),this.x=this.x+this.speedx,this.y=this.y+this.speedy;var c=100;this.x<=0+this.radius&&(this.speedx*=-1),this.x>=e.width-this.radius-c&&(this.speedx*=-1),this.y<=0+this.radius&&(this.speedy*=-1),this.y>=e.height-this.radius-c&&(this.speedy*=-1);for(var c=b?29:0,d=0;d<i;d++){var g=j[d],h=g.y-this.y,k=g.x-this.x,l=Math.sqrt(k*k+h*h);l<200&&(f.beginPath(),f.globalAlpha=(200-l)/200,f.globalCompositeOperation="destination-over",f.lineWidth=1,f.moveTo(this.x+c,this.y+c),f.lineTo(g.x+c,g.y+c),f.strokeStyle=this.color,f.lineCap="round",f.stroke(),f.closePath())}}}function b(b){for(var c=0,d=0;d<DATAS.length;d++){var e;DATAS[d].type?(e=new a(b,c,DATAS[d]),c++):e=new a(b,null,DATAS[d]),j.push(e)}}function c(){if(f.clearRect(0,0,e.width,e.height),j.length)for(var a=0;a<i;a++)j[a].move();requestAnimFrame(c)}function d(){var a=new Image;a.src="https://img.alicdn.com/tps/TB1yhdxOVXXXXcwaXXXXXXXXXXX-1020-68.png",a.complete?b(a):(a.onload=function(){b(a)},a.onerror=function(){window.alert("particle 图片加载失败，请重试")})}var e=document.getElementById("particle-line"),f=e.getContext("2d"),g=600,h=443;e.width=g,e.height=h;var i=DATAS.length,j=[],k=["#ECECEC","#ECECEC","#ECECEC","#ECECEC"];d(),c()}function runPlanet(a,b,c,d,e){function f(){j.transition().duration(d).ease("linear").attrTween("transform",g(i.node())).each("end",f)}function g(a){var b=a.getTotalLength();return function(c,d,e){return function(c){var d=a.getPointAtLength(c*b);return"translate("+[d.x,d.y]+")"}}}var h=d3.select("svg.circle-lines .path-wrapper"),i=h.select(a),j=h.append("g"),k=j.append("circle"),l=j.append("text");l.attr({dy:30,dx:e}).text(b),k.attr({r:c,fill:"url(#grad)"}),f()}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),(new WOW).init();var DATAS=[{x:230,y:32},{x:309,y:91},{x:432,y:77},{x:328,y:166},{x:422,y:254},{x:403,y:176},{x:455,y:208},{x:520,y:354},{x:359,y:350},{x:199,y:361},{x:229,y:388},{x:24,y:404},{x:63,y:361},{x:118,y:324},{x:76,y:254},{x:4,y:227},{x:170,y:286},{x:165,y:69},{x:237,y:183,type:"big"},{x:307,y:260,type:"big"},{x:348,y:127,type:"big"},{x:267,y:56,type:"big"},{x:129,y:0,type:"big"},{x:60,y:172,type:"big"},{x:183,y:89,type:"big"},{x:115,y:257,type:"big"},{x:429,y:260,type:"big"},{x:211,y:316,type:"big"},{x:12,y:275,type:"big"},{x:61,y:366,type:"big"},{x:439,y:100,type:"big"},{x:88,y:86,type:"big"},{x:527,y:175,type:"big"}],particleLine=new ParticleLine;runPlanet(".e-7","研究机构",10,23e4,-30),runPlanet(".e-6","媒体",10,23e4,-15),runPlanet(".e-5","资讯公司",11,23e4,-30),runPlanet(".e-4","内容创业者",12,8e4,-30),runPlanet(".e-3","中小创业企业",11,9e4,-40),runPlanet(".e-2","线下传统企业",12,1e5,-40),runPlanet(".e-1","线上商家",10,6e4,-30),function(){function a(){if(!b){b=!0;anime({targets:".bar rect",y:function(a){return anime.random(50,200)},duration:1200,easing:"linear",complete:function(){b=!1,requestAnimFrame(a)}})}}var b=!1;a()}(),function(){var a=$(".arrow-wrapper").find(".arrow"),b=0;timer=setInterval(function(){if($(".arrow-wrapper").hasClass("animated")){for(var c=0;c<a.length;c++)b===c?$(a[c]).addClass("act"):$(a[c]).removeClass("act");b++,b>5&&(b=0)}},1e3)}(),function(){var a=document.getElementById("toTop"),b=document.documentElement.clientHeight,c=null,d=!0;window.onscroll=function(){var e=document.body.scrollTop||document.documentElement.scrollTop;e>=b?a.style.display="block":a.style.display="none",d||clearInterval(c),d=!1},a.onclick=function(){c=setInterval(function(){var a=document.body.scrollTop||document.documentElement.scrollTop,b=Math.ceil(a/5);document.documentElement.scrollTop=document.body.scrollTop=a-b,d=!0,0==a&&clearInterval(c)},50)}}(),function(){for(var a=[{id:1,title:"1秒",name:"亿级数据复杂多维查询，秒级响应"},{id:2,title:"99.9999%",name:"数据服务调用成功率"},{id:3,title:"2千万",name:"每天被扫描的数据量相当于2千万部高清电影"},{id:4,title:"90%",name:"月成交额30万以上商家，90%使用阿里数据的数据产品服务"},{id:5,title:"3秒",name:"双11海量实时数据更新频率"},{id:6,title:"145亿",name:"对内统一数据服务日调用峰值"}],b=$(".foot-bar"),c=b.find(".data-value"),d=b.find(".data-text"),e=0;e<6;e++)$(c[e]).text(a[e].title),$(d[e]).text(a[e].name);b.show()}();